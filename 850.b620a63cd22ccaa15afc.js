(self.webpackChunkgoatzilla=self.webpackChunkgoatzilla||[]).push([[850],{4850:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ParticipantsModule:()=>N});var n=i(9171),r=i(4297),a=i(5917),c=i(8002),o=i(7716),s=i(406),p=i(8583),l=i(6226),g=i(2608);function Z(t,e){1&t&&o._UZ(0,"svg-icon",14)}const u=function(t){return[t]};function d(t,e){if(1&t&&(o.TgZ(0,"div",10),o.TgZ(1,"div",11),o.YNc(2,Z,1,0,"svg-icon",12),o.ALo(3,"async"),o.TgZ(4,"h5"),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"a",13),o._uU(7,"Check details"),o.qZA(),o.qZA()),2&t){const t=e.$implicit,i=o.oxw(2);o.xp6(2),o.Q6J("ngIf",o.lcZ(3,4,i.isFavorite(t.id))),o.xp6(3),o.AsE("",t.firstName," ",t.lastName,""),o.xp6(1),o.Q6J("routerLink",o.VKq(6,u,t.id))}}function m(t,e){if(1&t&&(o.TgZ(0,"main",1),o._UZ(1,"app-authenticated-header"),o.TgZ(2,"header",2),o.TgZ(3,"span"),o.TgZ(4,"a",3),o._UZ(5,"svg-icon",4),o.TgZ(6,"span"),o._uU(7,"Projects"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"span",5),o._uU(9," / "),o.qZA(),o.TgZ(10,"span"),o.TgZ(11,"a",6),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"span",5),o._uU(14," / "),o.qZA(),o.TgZ(15,"h1",7),o._uU(16,"Participants"),o.qZA(),o.qZA(),o.TgZ(17,"div",8),o.YNc(18,d,8,8,"div",9),o.ALo(19,"async"),o.qZA(),o.qZA()),2&t){const t=e.ngIf,i=o.oxw();o.xp6(12),o.Oqu(t.name),o.xp6(6),o.Q6J("ngForOf",o.lcZ(19,2,i.participants$))}}let v=(()=>{class t{constructor(t,e){this.dataService=t,this.projectService=e,this.participants$=(0,a.of)([]),this.participants$=this.dataService.getParticipants(),this.activeProject$=this.projectService.getActiveProject()}isFavorite(t){return this.dataService.favoriteParticipants$.pipe((0,c.U)(e=>e.includes(t)))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.ProjectDataService),o.Y36(s.ProjectsService))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-participants-dashboard"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],[1,"mb-2","flex","align-center","mobile-ml-1","mobile-mr-1"],["routerLink","../..","cta","tertiary",1,"align-center"],["key","back",1,"mr-1"],[1,"ml-1","mr-1"],["routerLink","../","cta","tertiary"],[1,"h5"],[1,"mt-2","card-container","wrap","mobile-ml-1","mobile-mr-1"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"flex","mb-1"],["key","star","size","md","class","mr-1 star",4,"ngIf"],["cta","tertiary",1,"block",3,"routerLink"],["key","star","size","md",1,"mr-1","star"]],template:function(t,e){1&t&&(o.YNc(0,m,20,4,"main",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,e.activeProject$))},directives:[p.O5,l.W,n.yS,g.bk,p.sg],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var f=i(5257),A=i(3190);function h(t,e){1&t&&(o.TgZ(0,"span"),o._uU(1,"Add to favorites"),o.qZA())}function q(t,e){1&t&&(o.TgZ(0,"span"),o._uU(1,"Remove favorite"),o.qZA())}const T=function(){return["../..","sharing","itinerary","send"]},y=function(t){return{participant:t}},b=function(){return["./"]},k=function(){return["itinerary"]};function x(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"article",7),o.TgZ(1,"header",8),o.TgZ(2,"div",9),o._UZ(3,"img",10),o.qZA(),o.TgZ(4,"h1",11),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",12),o.TgZ(7,"div",13),o.TgZ(8,"svg-icon",14),o.ALo(9,"async"),o.qZA(),o.TgZ(10,"button",15),o.NdJ("click",function(){const e=o.CHM(t).ngIf;return o.oxw().toggleFavorite(e.id)}),o.YNc(11,h,2,0,"span",16),o.ALo(12,"async"),o.YNc(13,q,2,0,"span",16),o.ALo(14,"async"),o.qZA(),o.qZA(),o.TgZ(15,"div",17),o._UZ(16,"svg-icon",18),o.TgZ(17,"span",19),o.TgZ(18,"a",20),o._uU(19,"Send itinerary"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",21),o.TgZ(21,"div",22),o.TgZ(22,"a",23),o._uU(23,"General"),o.qZA(),o.TgZ(24,"a",23),o._uU(25,"Itinerary"),o.qZA(),o.qZA(),o._UZ(26,"div",24),o._UZ(27,"router-outlet"),o.qZA(),o.qZA()}if(2&t){const t=e.ngIf,i=o.oxw();o.xp6(5),o.AsE(" ",t.firstName," ",t.lastName," "),o.xp6(3),o.ekj("active",o.lcZ(9,14,i.isFavorite(t.id))),o.xp6(3),o.Q6J("ngIf",!o.lcZ(12,16,i.isFavorite(t.id))),o.xp6(2),o.Q6J("ngIf",o.lcZ(14,18,i.isFavorite(t.id))),o.xp6(5),o.Q6J("routerLink",o.DdM(20,T))("queryParams",o.VKq(21,y,t.id)),o.xp6(4),o.ekj("active",i.appRouter.isRouteActive("general")),o.Q6J("routerLink",o.DdM(23,b)),o.xp6(2),o.ekj("active",i.appRouter.isRouteActive("itinerary")),o.Q6J("routerLink",o.DdM(24,k))}}let U=(()=>{class t{constructor(t,e,i){this.dataService=t,this.projectService=e,this.appRouter=i,this.participant$=this.dataService.getActiveParticipant(),this.activeProject$=this.projectService.getActiveProject()}isFavorite(t){return this.dataService.favoriteParticipants$.pipe((0,c.U)(e=>e.includes(t)))}toggleFavorite(t){this.dataService.favoriteParticipants$.pipe((0,f.q)(1),(0,A.w)(e=>e.includes(t)?this.dataService.removeFromFavorites(t):this.dataService.addToFavorites(t))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.ProjectDataService),o.Y36(s.ProjectsService),o.Y36(r.So))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-participant-details"]],decls:19,vars:6,consts:[[1,"centered-content","padded-container"],[1,"mb-2","mobile-ml-1","mobile-mr-1"],["routerLink","../../..","cta","tertiary"],[1,"ml-1","mr-1"],["routerLink","../../","cta","tertiary"],["routerLink","../","cta","tertiary"],["class","mobile-ml-2 mobile-mr-1",4,"ngIf"],[1,"mobile-ml-2","mobile-mr-1"],[1,"flex","mb-4","mobile-mb-3","align-center"],[1,"img-container","mr-2"],["src","assets/avatar.jpg"],[1,"h3"],[1,"card-container"],[1,"flex","align-center","favorites"],["key","star","size","lg",1,"favorite-star"],["cta","outlined",1,"ml-2",3,"click"],[4,"ngIf"],[1,"mobile-mt-2","ml-2","mobile-ml-0","flex","align-center","sharing"],["key","share","size","lg"],[1,"flex"],["cta","outlined",1,"ml-2",3,"routerLink","queryParams"],[1,"mt-4","mobile-mt-3"],[1,"tab-controls"],["cta","tertiary",3,"routerLink"],[1,"separator","secondary","mt-3","mb-2"]],template:function(t,e){if(1&t&&(o.TgZ(0,"main",0),o._UZ(1,"app-authenticated-header"),o.TgZ(2,"nav",1),o.TgZ(3,"span"),o.TgZ(4,"a",2),o._uU(5," Dashboard "),o.qZA(),o.qZA(),o.TgZ(6,"span",3),o._uU(7," / "),o.qZA(),o.TgZ(8,"span"),o.TgZ(9,"a",4),o._uU(10),o.ALo(11,"async"),o.qZA(),o.qZA(),o.TgZ(12,"span",3),o._uU(13," / "),o.qZA(),o.TgZ(14,"span"),o.TgZ(15,"a",5),o._uU(16,"Participants"),o.qZA(),o.qZA(),o.qZA(),o.YNc(17,x,28,25,"article",6),o.ALo(18,"async"),o.qZA()),2&t){let t;o.xp6(10),o.Oqu(null==(t=o.lcZ(11,2,e.activeProject$))?null:t.name),o.xp6(7),o.Q6J("ngIf",o.lcZ(18,4,e.participant$))}},directives:[l.W,n.yS,p.O5,g.bk,n.lC],pipes:[p.Ov],styles:[".img-container[_ngcontent-%COMP%]{max-width:50px;overflow:hidden;border-radius:50%;display:flex;flex-direction:column;justify-content:center;align-items:center}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.favorite-star.active[_ngcontent-%COMP%]{color:var(--secondary-color)}"]}),t})();var _=i(4785);function P(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",9),o.TgZ(1,"span",3),o._uU(2,"Phone:"),o.qZA(),o.TgZ(3,"a",4),o._uU(4),o.qZA(),o.TgZ(5,"button",5),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).onCopy("Phone")}),o._UZ(6,"svg-icon",6),o.TgZ(7,"span"),o._uU(8,"Copy"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw().ngIf;o.xp6(3),o.Q6J("href","tel:"+t.phone,o.LSH),o.xp6(1),o.hij("Call ",t.phone,""),o.xp6(1),o.Q6J("cdkCopyToClipboard",t.phone)}}function S(t,e){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",1),o.TgZ(2,"section"),o.TgZ(3,"div",2),o.TgZ(4,"span",3),o._uU(5,"Email:"),o.qZA(),o.TgZ(6,"a",4),o._uU(7),o.qZA(),o.TgZ(8,"button",5),o.NdJ("click",function(){return o.CHM(t),o.oxw().onCopy("Email")}),o._UZ(9,"svg-icon",6),o.TgZ(10,"span"),o._uU(11,"Copy"),o.qZA(),o.qZA(),o.qZA(),o.YNc(12,P,9,3,"div",7),o.qZA(),o.TgZ(13,"section",8),o.TgZ(14,"div",9),o.TgZ(15,"span",3),o._uU(16,"Passport number:"),o.qZA(),o.TgZ(17,"span",10),o._uU(18),o.qZA(),o.TgZ(19,"button",5),o.NdJ("click",function(){return o.CHM(t),o.oxw().onCopy("Passport number")}),o._UZ(20,"svg-icon",6),o.TgZ(21,"span"),o._uU(22,"Copy"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.BQk()}if(2&t){const t=e.ngIf;o.xp6(6),o.Q6J("href","mailto:"+t.email,o.LSH),o.xp6(1),o.Oqu(t.email),o.xp6(1),o.Q6J("cdkCopyToClipboard",t.email),o.xp6(4),o.Q6J("ngIf",t.phone),o.xp6(6),o.Oqu(t.passportNumber),o.xp6(1),o.Q6J("cdkCopyToClipboard",t.passportNumber)}}let j=(()=>{class t{constructor(t,e){this.dataService=t,this.snackbar=e,this.participant$=t.getActiveParticipant()}onCopy(t){this.snackbar.open(`${t} copied to clipboard!`,"",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.ProjectDataService),o.Y36(r.ux))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-participant-contact"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"wrap","card-container","mobile-ml-1","mobile-mr-1"],[1,"mb-2","flex","align-center","wrap"],[1,"bold"],[1,"ml-2","mobile-mr-2",3,"href"],[1,"ghost-button","ml-2","mobile-ml-0","inline-flex","align-center",3,"cdkCopyToClipboard","click"],["key","copy",1,"mr-1"],["class","flex align-center wrap",4,"ngIf"],[1,"ml-4","mobile-ml-0"],[1,"flex","align-center","wrap"],[1,"ml-2","mobile-mr-2"]],template:function(t,e){1&t&&(o.YNc(0,S,23,6,"ng-container",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,e.participant$))},directives:[p.O5,_.i3,g.bk],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var C=i(6095);const w=function(){return[]},L=function(t){return["/projects",t,"itinerary"]};function J(t,e){if(1&t&&(o.ynx(0),o._UZ(1,"app-booking-list",1),o.ALo(2,"async"),o.BQk()),2&t){const t=e.ngIf,i=o.oxw();o.xp6(1),o.Q6J("bookings",o.lcZ(2,2,i.bookingGroups$)||o.DdM(4,w))("baseUrl",o.VKq(5,L,t.id))}}let I=(()=>{class t{constructor(t,e){this.dataService=t,this.projectService=e,this.bookingGroups$=(0,a.of)([]),this.bookingGroups$=this.dataService.getBookingGroupsForParticipant(),this.activeProject$=this.projectService.getActiveProject()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.ProjectDataService),o.Y36(s.ProjectsService))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-participant-itinerary"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"bookings","baseUrl"]],template:function(t,e){1&t&&(o.YNc(0,J,3,7,"ng-container",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,e.activeProject$))},directives:[p.O5,C.h],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var Q=i(784);const $=[{path:"",component:v},{path:":participantId",component:U,children:[{path:"",component:j,data:{key:"general"}},{path:"itinerary",component:I,data:{key:"itinerary"}},{path:"**",redirectTo:""}]},{path:"**",redirectTo:""}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.m8,n.Bz.forChild($),Q.p],n.Bz]}),t})()}}]);