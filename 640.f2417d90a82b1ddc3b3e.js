(self.webpackChunkgoatzilla=self.webpackChunkgoatzilla||[]).push([[640],{1640:(t,e,i)=>{"use strict";i.r(e),i.d(e,{DataSharingModule:()=>It});var n=i(9171),a=i(665),r=i(8583),o=i(4297),s=i(9645),c=i(2104),p=i(5917),g=i(3342),l=i(7716),d=i(9346);let h=(t=21)=>{let e="",i=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=63&i[t];e+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return e};var m=i(6215),u=i(8002),Z=i(7920),f=i(8344),k=i(2340);let b=(()=>{class t{constructor(t){this.appRouter=t,this._items$=new m.X({}),this._emails$=new m.X({}),this.items$=this._items$.pipe((0,u.U)(t=>{const e=this.appRouter.getProjectId();return Object.values(t).filter(t=>t.projectId===e).sort((t,e)=>(0,Z.Z)(t.createdAt,e.createdAt)?-1:(0,f.Z)(t.createdAt,e.createdAt)?1:0)})),this.emails$=this._emails$.pipe((0,u.U)(t=>{const e=this.appRouter.getProjectId();return Object.values(t).filter(t=>t.projectId===e).sort((t,e)=>(0,Z.Z)(t.createdAt,e.createdAt)?-1:(0,f.Z)(t.createdAt,e.createdAt)?1:0)}));const e=JSON.parse(localStorage.getItem("sharedItems")||"{}");this._items$.next(e);const i=JSON.parse(localStorage.getItem("emails")||"{}");this._emails$.next(i)}deleteSharedItem(t){const e=Object.assign({},this._items$.getValue());delete e[t],localStorage.setItem("sharedItems",JSON.stringify(e)),this._items$.next(e)}deleteEmail(t){const e=Object.assign({},this._emails$.getValue());delete e[t],localStorage.setItem("emails",JSON.stringify(e)),this._emails$.next(e)}generatePriceReport(t){const e={id:h(),type:"price-report",bookingIds:t,projectId:this.appRouter.getProjectId(),createdAt:(new Date).getTime()};return this._items$.next(Object.assign(Object.assign({},this._items$.getValue()),{[e.id]:e})),localStorage.setItem("sharedItems",JSON.stringify(this._items$.getValue())),e}generateBookingReport(t){const e={id:h(),type:"booking",bookingId:t,projectId:this.appRouter.getProjectId(),createdAt:(new Date).getTime()};return this._items$.next(Object.assign(Object.assign({},this._items$.getValue()),{[e.id]:e})),localStorage.setItem("sharedItems",JSON.stringify(this._items$.getValue())),e}generateItineraryReport(t){const e={id:h(),type:"itinerary",participantId:t,projectId:this.appRouter.getProjectId(),createdAt:(new Date).getTime()};return this._items$.next(Object.assign(Object.assign({},this._items$.getValue()),{[e.id]:e})),localStorage.setItem("sharedItems",JSON.stringify(this._items$.getValue())),e}generateEmail(t,e,i){const n=this.appRouter.getProjectId(),a=(new Date).getTime(),r={id:h(),projectId:n,shareId:t,sendAt:i||a,createdAt:a,recipients:e};return this._emails$.next(Object.assign(Object.assign({},this._emails$.getValue()),{[r.id]:r})),localStorage.setItem("emails",JSON.stringify(this._emails$.getValue())),r}getItemLink(t){const e=k.N.currentHost,i=this.appRouter.getProjectId();return"price-report"===t.type?`${e}/projects/${i}/sharing/pricing/view/${t.id}`:"booking"===t.type?`${e}/projects/${i}/sharing/booking/view/${t.id}`:"itinerary"===t.type?`${e}/projects/${i}/sharing/itinerary/view/${t.id}`:""}getSharedItem(t){return this._items$.getValue()[t]}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(o.So))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var A=i(6226),v=i(4762),x=i(9112),T=i(2608),y=i(4785),q=i(800),_=i(2458);function S(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){return l.CHM(t),l.oxw().makeLink.emit()}),l._UZ(1,"svg-icon",9),l.TgZ(2,"span"),l._uU(3,"Generate link"),l.qZA(),l.qZA()}}function I(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",10),l.NdJ("click",function(){return l.CHM(t),l.oxw().onCopy()}),l._UZ(1,"svg-icon",9),l.TgZ(2,"span"),l._uU(3,"Copy link"),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.Q6J("cdkCopyToClipboard",t.link)}}function U(t,e){if(1&t&&(l.TgZ(0,"mat-option",22),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",t," ")}}function w(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",23),l.TgZ(1,"span",24),l._uU(2),l.qZA(),l.TgZ(3,"button",25),l.NdJ("click",function(e){const i=l.CHM(t).$implicit;return l.oxw(2).removeRecipient(e,i)}),l._UZ(4,"svg-icon",26),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t)}}function $(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",11),l.TgZ(1,"div",0),l.TgZ(2,"input",12,13),l.NdJ("keyup.enter",function(){l.CHM(t);const e=l.MAs(3),i=l.oxw();return i.handleEnter(i.emailFilter),e.focus()})("ngModelChange",function(e){return l.CHM(t),l.oxw().emailFilter=e}),l.qZA(),l.TgZ(4,"mat-autocomplete",14,15),l.NdJ("optionSelected",function(e){return l.CHM(t),l.oxw().addRecipient(e.option.value)}),l.YNc(6,U,2,2,"mat-option",16),l.ALo(7,"async"),l.qZA(),l.TgZ(8,"div",17),l.YNc(9,w,5,1,"div",18),l.qZA(),l._UZ(10,"div",19),l.TgZ(11,"div",20),l.TgZ(12,"button",21),l.NdJ("click",function(){l.CHM(t);const e=l.oxw();return e.handleShare(e.displayedRecipients)}),l._uU(13," Done "),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.MAs(5),e=l.oxw();l.xp6(2),l.Q6J("ngModel",e.emailFilter)("matAutocomplete",t),l.xp6(4),l.Q6J("ngForOf",l.lcZ(7,4,e.recipients$)),l.xp6(3),l.Q6J("ngForOf",e.displayedRecipients)}}class O{constructor(t){this.snackbar=t,this.makeLink=new l.vpe,this.shareLink=new l.vpe,this.link="",this.emails=[],this.emailFilter$=new m.X(""),this.showEmailSharing=!1,this._recipients$=new m.X([]),this.recipients$=(0,x.aj)([this._recipients$,this.emailFilter$]).pipe((0,u.U)(([t,e])=>e?t.filter(t=>t&&t.toLowerCase().includes(e.toLowerCase())&&!this.displayedRecipients.includes(t)):[])),this.displayedRecipients=[],this.emailFilter=""}handleShare(t){this.shareLink.emit(t),this.showEmailSharing=!1}handleEnter(t){t&&(this.displayedRecipients=Array.from(new Set([...this.displayedRecipients,t])),this.emailFilter="")}removeRecipient(t,e){t.stopPropagation(),this.displayedRecipients=this.displayedRecipients.filter(t=>t!==e)}addRecipient(t){t&&(this.displayedRecipients.push(t),this.emailFilter="")}toggleEmailSharing(){this.showEmailSharing=!this.showEmailSharing}onCopy(){this.snackbar.open("Share link was copied!","",{duration:3e3})}ngOnInit(){this._recipients$.next(this.emails)}}O.\u0275fac=function(t){return new(t||O)(l.Y36(o.ux))},O.\u0275cmp=l.Xpm({type:O,selectors:[["app-share-settings"]],inputs:{link:"link",emails:"emails"},outputs:{makeLink:"makeLink",shareLink:"shareLink"},decls:10,vars:3,consts:[[1,"flex","wrap"],[1,"mr-3"],["cta","outlined","class","flex align-center justify-center mobile-mb-2",3,"click",4,"ngIf"],["cta","outlined","class","flex align-center justify-center mobile-mb-2",3,"cdkCopyToClipboard","click",4,"ngIf"],[1,"email-share"],["cta","outlined",1,"flex","align-center","justify-center",3,"click"],["key","share",1,"mr-1"],["class","email-share-toggable",4,"ngIf"],["cta","outlined",1,"flex","align-center","justify-center","mobile-mb-2",3,"click"],["key","link",1,"mr-1"],["cta","outlined",1,"flex","align-center","justify-center","mobile-mb-2",3,"cdkCopyToClipboard","click"],[1,"email-share-toggable"],["type","text","placeholder","Search recipients",1,"input",3,"ngModel","matAutocomplete","keyup.enter","ngModelChange"],["input",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-2"],["class","flex align-center",4,"ngFor","ngForOf"],[1,"separator","mt-3"],[1,"mt-4"],["cta","outlined","secondary","",3,"click"],[3,"value"],[1,"flex","align-center"],[1,"mr-1"],[1,"ghost-button","remove-recipient",3,"click"],["key","remove"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,S,4,0,"button",2),l.YNc(3,I,4,1,"button",3),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"button",5),l.NdJ("click",function(){return e.toggleEmailSharing()}),l._UZ(6,"svg-icon",6),l.TgZ(7,"span"),l._uU(8,"Share with"),l.qZA(),l.qZA(),l.YNc(9,$,14,6,"div",7),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",!e.link),l.xp6(1),l.Q6J("ngIf",e.link),l.xp6(6),l.Q6J("ngIf",e.showEmailSharing))},directives:[r.O5,T.bk,y.i3,a.Fj,q.ZL,a.JJ,a.On,q.XC,r.sg,_.ey],pipes:[r.Ov],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .email-share[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}[_nghost-%COMP%]   .email-share-toggable[_ngcontent-%COMP%]{position:absolute;top:50px;background-color:#fff;min-width:300px;padding:var(--space-3);box-shadow:0 4px 8px 0 #0003}@media (max-width:48em){[_nghost-%COMP%]   .email-share-toggable[_ngcontent-%COMP%]{min-width:100%}}[_nghost-%COMP%]   .clear-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .remove-recipient[_ngcontent-%COMP%]{color:var(--secondary-color)}"]}),(0,v.gn)([(0,o.GU)((t,e)=>{!1===t&&(e.emailFilter="",e.displayedRecipients=[])})],O.prototype,"showEmailSharing",void 0),(0,v.gn)([(0,o.GU)((t,e)=>{e.emailFilter$.next(t)})],O.prototype,"emailFilter",void 0);var L=i(233);function j(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,","),l.qZA())}function P(t,e){if(1&t&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,j,2,0,"span",9),l.qZA()),2&t){const t=e.$implicit,i=e.last;l.xp6(1),l.AsE(" ",t.firstName," ",t.lastName,""),l.xp6(1),l.Q6J("ngIf",!i)}}function J(t,e){if(1&t&&(l.TgZ(0,"div"),l.TgZ(1,"h2",10),l._uU(2,"Participants"),l.qZA(),l.TgZ(3,"div",11),l.YNc(4,P,3,3,"div",12),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",t.participants)}}function C(t,e){if(1&t&&(l.TgZ(0,"div",1),l.TgZ(1,"div",2),l._UZ(2,"svg-icon",3),l.ALo(3,"bookingType"),l.TgZ(4,"h1",4),l._uU(5),l.qZA(),l.TgZ(6,"div",5),l.TgZ(7,"span"),l._uU(8),l.ALo(9,"date"),l.qZA(),l.TgZ(10,"span"),l._uU(11," - "),l.qZA(),l.TgZ(12,"span"),l._uU(13),l.ALo(14,"date"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",6),l.TgZ(16,"span",7),l._uU(17,"Confirmation number"),l.qZA(),l.TgZ(18,"span",8),l._uU(19),l.qZA(),l.qZA(),l.YNc(20,J,5,1,"div",9),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("key",l.lcZ(3,8,t.booking.type)),l.xp6(3),l.Oqu(t.booking.provider),l.xp6(3),l.AsE(" ",l.lcZ(9,10,t.booking.startDate)," ",t.booking.startTime," "),l.xp6(5),l.AsE("",l.lcZ(14,12,t.booking.endDate)," ",t.booking.endTime,""),l.xp6(6),l.Oqu(t.booking.confirmationNumber),l.xp6(1),l.Q6J("ngIf",t.participants&&t.participants.length)}}let F=(()=>{class t{constructor(){this.participants=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-booking-visualization"]],inputs:{booking:"booking",participants:"participants"},decls:1,vars:1,consts:[["class","mobile-ml-1 mobile-mr-1",4,"ngIf"],[1,"mobile-ml-1","mobile-mr-1"],[1,"flex","align-center","wrap","mb-2"],["size","xl",1,"mr-1","booking-type",3,"key"],[1,"h4","mr-2"],[1,"small-text","flex","align-center"],[1,"mb-2","flex","align-center"],[1,"mr-2"],[1,"bold"],[4,"ngIf"],[1,"mb-1","h5"],[1,"flex","wrap","gap-2"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&l.YNc(0,C,21,14,"div",0),2&t&&l.Q6J("ngIf",e.booking)},directives:[r.O5,T.bk,r.sg],pipes:[L.$,r.uU],styles:[".booking-type[_ngcontent-%COMP%]{color:var(--secondary-color)}"],changeDetection:0}),t})();const N=function(){return[]};function Y(t,e){if(1&t&&(l._UZ(0,"app-booking-visualization",15),l.ALo(1,"async")),2&t){const t=e.$implicit,i=l.oxw(5);l.Q6J("booking",t)("participants",l.lcZ(1,2,i.getBookingParticipants(t))||l.DdM(4,N))}}function M(t,e){if(1&t&&(l.TgZ(0,"div",11),l.TgZ(1,"div",12),l.TgZ(2,"span"),l._uU(3),l.ALo(4,"date"),l.qZA(),l.TgZ(5,"span",13),l._uU(6),l.qZA(),l.qZA(),l.YNc(7,Y,2,5,"app-booking-visualization",14),l.qZA()),2&t){const t=e.$implicit;l.xp6(3),l.hij("",l.lcZ(4,4,t.date)," "),l.xp6(3),l.AsE("",t.bookings.length," ",t.bookings.length>1?"bookings":"booking",""),l.xp6(1),l.Q6J("ngForOf",t.bookings)}}const Q=function(t){return[t]};function E(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"article"),l.TgZ(1,"app-share-settings",9),l.NdJ("makeLink",function(){l.CHM(t);const e=l.oxw(2).ngIf;return l.oxw().handleSave(e.id)})("shareLink",function(e){l.CHM(t);const i=l.oxw(2).ngIf;return l.oxw().handleShare(e,i.id)}),l.qZA(),l.YNc(2,M,8,6,"div",10),l.ALo(3,"async"),l.qZA()}if(2&t){const t=l.oxw(2).ngIf,e=l.oxw();l.xp6(1),l.Q6J("link",e.link)("emails",l.VKq(5,Q,t.email)),l.xp6(1),l.Q6J("ngForOf",l.lcZ(3,3,e.bookingGroups$))}}const D=function(t,e){return["/projects",t,"participants",e]};function B(t,e){if(1&t&&(l.ynx(0),l._UZ(1,"app-authenticated-header"),l.TgZ(2,"header",3),l.TgZ(3,"span"),l.TgZ(4,"a",4),l._uU(5," Dashboard "),l.qZA(),l.qZA(),l.TgZ(6,"span",5),l._uU(7," / "),l.qZA(),l.TgZ(8,"span"),l.TgZ(9,"a",6),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"span",5),l._uU(12," / "),l.qZA(),l.TgZ(13,"span"),l.TgZ(14,"a",7),l._uU(15,"Sharing center"),l.qZA(),l.qZA(),l.TgZ(16,"span",5),l._uU(17," / "),l.qZA(),l.TgZ(18,"span"),l.TgZ(19,"a",8),l._uU(20),l.qZA(),l.qZA(),l.qZA(),l.YNc(21,E,4,7,"article",2),l.ALo(22,"async"),l.BQk()),2&t){const t=e.ngIf,i=l.oxw().ngIf,n=l.oxw();l.xp6(10),l.Oqu(t.name),l.xp6(9),l.Q6J("routerLink",l.WLB(7,D,t.id,i.id)),l.xp6(1),l.AsE("",i.firstName," ",i.lastName,""),l.xp6(1),l.Q6J("ngIf",l.lcZ(22,5,n.bookings$))}}function R(t,e){if(1&t&&(l.TgZ(0,"main",1),l.YNc(1,B,23,10,"ng-container",2),l.ALo(2,"async"),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.activeProject$))}}let H=(()=>{class t{constructor(t,e,i,n){this.projectService=t,this.dataService=e,this.sharingService=i,this.snackbar=n,this.bookings$=(0,p.of)([]),this.bookingGroups$=(0,p.of)([]),this.link="",this.item=void 0,this.activeProject$=this.projectService.getActiveProject(),this.activeParticipant$=this.dataService.getActiveParticipant().pipe((0,g.b)(t=>{this.bookings$=this.dataService.getBookingsByParticipantId(t.id)})),this.bookingGroups$=this.dataService.getBookingGroupsForParticipant()}getBookingParticipants(t){return this.dataService.getBookingParticipants(t.id)}handleSave(t){const e=this.sharingService.generateItineraryReport(t);this.item=e,this.link=this.sharingService.getItemLink(e)}handleShare(t,e){if(!this.item){const t=this.sharingService.generateItineraryReport(e);this.link=this.sharingService.getItemLink(t),this.item=t}this.sharingService.generateEmail(this.item.id,t),this.snackbar.open("Email sent!","",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.ProjectsService),l.Y36(d.ProjectDataService),l.Y36(b),l.Y36(o.ux))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-share-itinerary"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],[4,"ngIf"],[1,"mb-2","mt-1","mobile-ml-1","mobile-mr-1"],["routerLink","../../../../","cta","tertiary"],[1,"ml-1","mr-1"],["routerLink","../../../","cta","tertiary"],["routerLink","../../","cta","tertiary"],["cta","tertiary",3,"routerLink"],[1,"block","mb-3","mobile-ml-1","mobile-mr-1",3,"link","emails","makeLink","shareLink"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"date-badge","mb-2"],[1,"ml-3"],[3,"booking","participants",4,"ngFor","ngForOf"],[3,"booking","participants"]],template:function(t,e){1&t&&(l.YNc(0,R,3,3,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.activeParticipant$))},directives:[r.O5,A.W,n.yS,O,r.sg,F],pipes:[r.Ov,r.uU],styles:[".date-badge[_ngcontent-%COMP%]{padding:var(--space-1);background-color:var(--neutral-transparent-color);font-weight:700;border-radius:var(--space-1)}"],changeDetection:0}),t})();var z=i(8513);function G(t,e){if(1&t&&(l.TgZ(0,"header",4),l.TgZ(1,"span",5),l.TgZ(2,"h1",6),l._uU(3),l.qZA(),l.TgZ(4,"span",7),l._uU(5,"Itinerary"),l.qZA(),l.qZA(),l.TgZ(6,"span"),l._uU(7),l.ALo(8,"date"),l.qZA(),l.qZA()),2&t){const t=l.oxw().ngIf,e=l.oxw();l.xp6(3),l.AsE(" ",t.firstName," ",t.lastName," "),l.xp6(4),l.hij("Created at: ",l.lcZ(8,3,e.sharedItem.createdAt),"")}}const X=function(){return[]};function V(t,e){if(1&t&&(l._UZ(0,"app-booking-visualization",12),l.ALo(1,"async")),2&t){const t=e.$implicit,i=l.oxw(3);l.Q6J("booking",t)("participants",l.lcZ(1,2,i.getBookingParticipants(t))||l.DdM(4,X))}}function W(t,e){if(1&t&&(l.TgZ(0,"div",8),l.TgZ(1,"div",9),l.TgZ(2,"span"),l._uU(3),l.ALo(4,"date"),l.qZA(),l.TgZ(5,"span",10),l._uU(6),l.qZA(),l.qZA(),l.YNc(7,V,2,5,"app-booking-visualization",11),l.qZA()),2&t){const t=e.$implicit;l.xp6(3),l.hij("",l.lcZ(4,4,t.date)," "),l.xp6(3),l.AsE("",t.bookings.length," ",t.bookings.length>1?"bookings":"booking",""),l.xp6(1),l.Q6J("ngForOf",t.bookings)}}function K(t,e){if(1&t&&(l.TgZ(0,"main",1),l._UZ(1,"app-public-header"),l.YNc(2,G,9,5,"header",2),l.YNc(3,W,8,6,"div",3),l.ALo(4,"async"),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",t.sharedItem),l.xp6(1),l.Q6J("ngForOf",l.lcZ(4,2,t.bookingGroups$))}}let tt=(()=>{class t{constructor(t,e,i){this.appRouter=t,this.sharingService=e,this.projectDataService=i,this.bookingGroups$=(0,p.of)([]);const n=this.appRouter.getShareId();this.sharedItem=this.sharingService.getSharedItem(n),this.participant$=this.projectDataService.getParticipantById(this.sharedItem.participantId),this.bookingGroups$=this.projectDataService.getBookingGroupsByParticipantId(this.sharedItem.participantId)}getBookingParticipants(t){return this.projectDataService.getBookingParticipants(t.id)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(o.So),l.Y36(b),l.Y36(d.ProjectDataService))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-itinerary"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],["class","mb-3 mt-3 mobile-ml-1 mobile-mr-1",4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"mb-3","mt-3","mobile-ml-1","mobile-mr-1"],[1,"flex","align-center","mb-1"],[1,"h3"],[1,"ml-1","badge"],[1,"card","mb-3"],[1,"date-badge","mb-2"],[1,"ml-3"],[3,"booking","participants",4,"ngFor","ngForOf"],[3,"booking","participants"]],template:function(t,e){1&t&&(l.YNc(0,K,5,4,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.participant$))},directives:[r.O5,z.E,r.sg,F],pipes:[r.Ov,r.uU],styles:[""]}),t})(),et=(()=>{class t{transform(t){switch(t){case"itinerary":return"Traveler itinerary";case"price-report":return"Price report";case"booking":return"Booking";default:return"Unknown"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Yjl({name:"sharingType",type:t,pure:!0}),t})(),it=(()=>{class t{constructor(t){this.datePipe=t}transform(t){const e=new Date,i=new Date(t),n=this.datePipe.transform(t,"short");return(0,Z.Z)(e,i)?"Shipped at "+n:"Ships at "+n}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(r.uU,16))},t.\u0275pipe=l.Yjl({name:"emailStatus",type:t,pure:!1}),t})();function nt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",15),l.TgZ(1,"div",16),l.TgZ(2,"a",17),l._uU(3),l.ALo(4,"sharingType"),l.qZA(),l.TgZ(5,"button",18),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).deleteItem(e.id)}),l._UZ(6,"svg-icon",19),l.TgZ(7,"span"),l._uU(8,"Revoke"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",20),l.TgZ(10,"span",21),l._uU(11,"Created at:"),l.qZA(),l.TgZ(12,"span"),l._uU(13),l.ALo(14,"date"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=l.oxw(2);l.xp6(2),l.Q6J("href",i.getItemLink(t),l.LSH)("id",t.id),l.xp6(1),l.Oqu(l.lcZ(4,4,t.type)),l.xp6(10),l.Oqu(l.xi3(14,6,t.createdAt,"short"))}}function at(t,e){if(1&t&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function rt(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",16),l.TgZ(2,"a",24),l._uU(3),l.ALo(4,"sharingType"),l.qZA(),l.TgZ(5,"button",18),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(2).deleteEmail(e.id)}),l._UZ(6,"svg-icon",19),l.TgZ(7,"span"),l._uU(8,"Delete"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"span",25),l._uU(10),l.ALo(11,"emailStatus"),l.qZA(),l.TgZ(12,"div",25),l.YNc(13,at,2,1,"div",26),l.qZA(),l.BQk()}if(2&t){const t=e.ngIf,i=l.oxw().$implicit,n=l.oxw(2);l.xp6(2),l.Q6J("href",n.getItemLink(t),l.LSH),l.xp6(1),l.Oqu(l.lcZ(4,4,t.type)),l.xp6(7),l.hij(" ",l.lcZ(11,6,i.sendAt)," "),l.xp6(3),l.Q6J("ngForOf",i.recipients)}}function ot(t,e){if(1&t&&(l.TgZ(0,"div",22),l.YNc(1,rt,14,8,"ng-container",23),l.ALo(2,"async"),l.qZA()),2&t){const t=e.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,i.getItemById(t.shareId)))}}function st(t,e){if(1&t&&(l.TgZ(0,"main",1),l._UZ(1,"app-authenticated-header"),l.TgZ(2,"header",2),l.TgZ(3,"span"),l.TgZ(4,"a",3),l._uU(5," Dashboard "),l.qZA(),l.qZA(),l.TgZ(6,"span",4),l._uU(7," / "),l.qZA(),l.TgZ(8,"span"),l.TgZ(9,"a",5),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"span",4),l._uU(12," / "),l.qZA(),l.TgZ(13,"h1",6),l._uU(14,"Sharing center"),l.qZA(),l.qZA(),l.TgZ(15,"article",7),l.TgZ(16,"section",8),l.TgZ(17,"h2",9),l._UZ(18,"svg-icon",10),l.TgZ(19,"span"),l._uU(20,"Links"),l.qZA(),l.qZA(),l.YNc(21,nt,15,9,"div",11),l.ALo(22,"async"),l.qZA(),l.TgZ(23,"section",12),l.TgZ(24,"h2",9),l._UZ(25,"svg-icon",13),l.TgZ(26,"span"),l._uU(27,"Emails"),l.qZA(),l.qZA(),l.YNc(28,ot,3,3,"div",14),l.ALo(29,"async"),l.qZA(),l.qZA(),l.qZA()),2&t){const t=e.ngIf,i=l.oxw();l.xp6(10),l.Oqu(t.name),l.xp6(11),l.Q6J("ngForOf",l.lcZ(22,3,i.items$)),l.xp6(7),l.Q6J("ngForOf",l.lcZ(29,5,i.emails$))}}let ct=(()=>{class t{constructor(t,e,i){this.projectService=t,this.sharingService=e,this.snackbar=i,this.activeProject$=this.projectService.getActiveProject(),this.items$=this.sharingService.items$,this.emails$=this.sharingService.emails$}getItemLink(t){return this.sharingService.getItemLink(t)}getItemById(t){return this.items$.pipe((0,u.U)(e=>e.find(e=>e.id===t)))}deleteItem(t){this.sharingService.deleteSharedItem(t),this.snackbar.open("Link deleted","",{duration:3e3})}deleteEmail(t){this.sharingService.deleteEmail(t),this.snackbar.open("Email deleted","",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.ProjectsService),l.Y36(b),l.Y36(o.ux))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-sharing-dashboard"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],[1,"mb-3","mt-1","flex","wrap","align-center"],["routerLink","../../","cta","tertiary"],[1,"ml-1","mr-1"],["routerLink","../","cta","tertiary"],[1,"h5"],[1,"flex","wrap","mobile-ml-2","mobile-mr-1"],[1,"width-5","mbl-width-12","mr-4","mobile-mr-0"],[1,"mb-2","h4","flex","align-center"],["key","link",1,"mr-2"],["class","mb-3 flex column card",4,"ngFor","ngForOf"],[1,"width-5","mbl-width-12"],["key","email",1,"mr-2"],["class","mb-1 flex column card",4,"ngFor","ngForOf"],[1,"mb-3","flex","column","card"],[1,"flex","align-center","wrap","mb-2"],["target","_blank",1,"mr-3",3,"href","id"],["cta","outlined","secondary","",1,"flex","align-center","justify-center",3,"click"],["key","remove",1,"mr-1"],[1,"small-text","mb-1"],[1,"mr-1"],[1,"mb-1","flex","column","card"],[4,"ngIf"],["target","_blank",1,"mr-3",3,"href"],[1,"small-text"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(l.YNc(0,st,30,7,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.activeProject$))},directives:[r.O5,A.W,n.yS,T.bk,r.sg],pipes:[r.Ov,et,r.uU,it],styles:[""],changeDetection:0}),t})();var pt=i(7057);const gt=function(t,e){return["/projects",t,"itinerary",e]},lt=function(){return[]};function dt(t,e){if(1&t){const t=l.EpF();l.ynx(0),l._UZ(1,"app-authenticated-header"),l.TgZ(2,"header",3),l.TgZ(3,"span"),l.TgZ(4,"a",4),l._uU(5," Dashboard "),l.qZA(),l.qZA(),l.TgZ(6,"span",5),l._uU(7," / "),l.qZA(),l.TgZ(8,"span"),l.TgZ(9,"a",6),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"span",5),l._uU(12," / "),l.qZA(),l.TgZ(13,"span"),l.TgZ(14,"a",7),l._uU(15,"Sharing center"),l.qZA(),l.qZA(),l.TgZ(16,"span",5),l._uU(17," / "),l.qZA(),l.TgZ(18,"span"),l.TgZ(19,"a",8),l._uU(20,"Booking"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(21,"article"),l.TgZ(22,"app-share-settings",9),l.NdJ("makeLink",function(){l.CHM(t);const e=l.oxw().ngIf;return l.oxw().handleSave(e)})("shareLink",function(e){l.CHM(t);const i=l.oxw().ngIf;return l.oxw().handleShare(e,i)}),l.ALo(23,"async"),l.qZA(),l._UZ(24,"app-booking-visualization",10),l.ALo(25,"async"),l.ALo(26,"async"),l.qZA(),l.BQk()}if(2&t){const t=e.ngIf,i=l.oxw().ngIf,n=l.oxw();l.xp6(10),l.Oqu(t.name),l.xp6(9),l.Q6J("routerLink",l.WLB(12,gt,t.id,i.id)),l.xp6(3),l.Q6J("link",n.link)("emails",l.lcZ(23,6,n.participantEmails$)||l.DdM(15,lt)),l.xp6(2),l.Q6J("booking",l.lcZ(25,8,n.booking$)||void 0)("participants",l.lcZ(26,10,n.participants$)||l.DdM(16,lt))}}function ht(t,e){if(1&t&&(l.TgZ(0,"main",1),l.YNc(1,dt,27,17,"ng-container",2),l.ALo(2,"async"),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.activeProject$))}}let mt=(()=>{class t{constructor(t,e,i,n){this.projectService=t,this.projectDataService=e,this.sharingService=i,this.snackbar=n,this.participantEmails$=(0,p.of)([]),this.participants$=(0,p.of)([]),this.link="",this.item=void 0,this.activeProject$=this.projectService.getActiveProject(),this.booking$=this.projectDataService.getActiveBooking(),this.participants$=this.projectDataService.getParticipants(),this.participantEmails$=this.booking$.pipe((0,pt.M)(this.projectDataService.getParticipants()),(0,u.U)(([t,e])=>e.filter(e=>t.participants.includes(e.id)).map(t=>t.email)))}handleSave(t){const e=this.sharingService.generateBookingReport(t.id);this.item=e,this.link=this.sharingService.getItemLink(e)}handleShare(t,e){if(!this.item){const t=this.sharingService.generateBookingReport(e.id);this.link=this.sharingService.getItemLink(t),this.item=t}this.sharingService.generateEmail(this.item.id,t),this.snackbar.open("Email sent!","",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.ProjectsService),l.Y36(d.ProjectDataService),l.Y36(b),l.Y36(o.ux))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-share-booking"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],[4,"ngIf"],[1,"mb-2","mt-1","mobile-ml-1","mobile-mr-1"],["routerLink","../../../../","cta","tertiary"],[1,"ml-1","mr-1"],["routerLink","../../../","cta","tertiary"],["routerLink","../../","cta","tertiary"],["cta","tertiary",3,"routerLink"],[1,"block","mb-3","mobile-ml-1","mobile-mr-1",3,"link","emails","makeLink","shareLink"],[1,"block","card",3,"booking","participants"]],template:function(t,e){1&t&&(l.YNc(0,ht,3,3,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.booking$))},directives:[r.O5,A.W,n.yS,O,F],pipes:[r.Ov],styles:[""]}),t})();const ut=function(t){return["../../..","itinerary",t]};function Zt(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l.TgZ(2,"a",3),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"td",4),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.TgZ(7,"td",4),l._uU(8),l.qZA(),l.TgZ(9,"td",4),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.qZA()),2&t){const t=e.$implicit,i=l.oxw();l.xp6(2),l.Q6J("routerLink",l.VKq(12,ut,t.id)),l.xp6(1),l.AsE("",t.provider," / ",t.confirmationNumber,""),l.xp6(2),l.hij(" ",l.xi3(6,6,t.price,t.currencyCode)," "),l.xp6(3),l.Oqu(t.participants.length),l.xp6(2),l.hij(" ",l.xi3(11,9,i.getBookingTotal(t),t.currencyCode)," ")}}let ft=(()=>{class t{constructor(){this.bookings=[]}getBookingTotal(t){return(t.participants.length*t.price).toFixed(2)}getAllBookingsTotal(t){return t.reduce((t,e)=>t+e.participants.length*e.price,0).toFixed(2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-price-report-visualization"]],inputs:{bookings:"bookings"},decls:19,vars:5,consts:[[1,"mb-4","table"],[4,"ngFor","ngForOf"],[1,"bold","mr-2"],["cta","tertiary",3,"routerLink"],[1,"centered"]],template:function(t,e){1&t&&(l.TgZ(0,"table",0),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Booking"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Price"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Quantity"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Total"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"tbody"),l.YNc(12,Zt,12,14,"tr",1),l.qZA(),l.qZA(),l.TgZ(13,"div"),l.TgZ(14,"span",2),l._uU(15,"Total: "),l.qZA(),l.TgZ(16,"span"),l._uU(17),l.ALo(18,"currency"),l.qZA(),l.qZA()),2&t&&(l.xp6(12),l.Q6J("ngForOf",e.bookings),l.xp6(5),l.Oqu(l.xi3(18,2,e.getAllBookingsTotal(e.bookings),null==e.bookings[0]?null:e.bookings[0].currencyCode)))},directives:[r.sg,n.yS],pipes:[r.H9],styles:[".table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid var(--secondary-color)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:var(--space-1)}.table[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{text-align:center}"]}),t})();const kt=function(){return[]};function bt(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"main",1),l._UZ(1,"app-authenticated-header"),l.TgZ(2,"header",2),l.TgZ(3,"span"),l.TgZ(4,"a",3),l._uU(5," Dashboard "),l.qZA(),l.qZA(),l.TgZ(6,"span",4),l._uU(7," / "),l.qZA(),l.TgZ(8,"span"),l.TgZ(9,"a",5),l._uU(10),l.ALo(11,"async"),l.qZA(),l.qZA(),l.TgZ(12,"span",4),l._uU(13," / "),l.qZA(),l.TgZ(14,"span"),l.TgZ(15,"a",6),l._uU(16,"Sharing center"),l.qZA(),l.qZA(),l.TgZ(17,"span",4),l._uU(18," / "),l.qZA(),l.TgZ(19,"h1",7),l._uU(20,"Price report"),l.qZA(),l.qZA(),l.TgZ(21,"article",8),l.TgZ(22,"app-share-settings",9),l.NdJ("makeLink",function(){const e=l.CHM(t).ngIf;return l.oxw().handleSave(e)})("shareLink",function(e){const i=l.CHM(t).ngIf;return l.oxw().handleShare(e,i)}),l.ALo(23,"async"),l.qZA(),l._UZ(24,"app-price-report-visualization",10),l.qZA(),l.qZA()}if(2&t){const t=e.ngIf,i=l.oxw();let n;l.xp6(10),l.Oqu(null==(n=l.lcZ(11,4,i.activeProject$))?null:n.name),l.xp6(12),l.Q6J("link",i.link)("emails",l.lcZ(23,6,i.participantEmails$)||l.DdM(8,kt)),l.xp6(2),l.Q6J("bookings",t)}}let At=(()=>{class t{constructor(t,e,i,n){this.projectService=t,this.dataService=e,this.sharingService=i,this.snackbar=n,this.bookings$=(0,p.of)([]),this.participantEmails$=(0,p.of)([]),this.link="",this.item=void 0,this.activeProject$=this.projectService.getActiveProject(),this.bookings$=this.dataService.getFilteredBookings().pipe((0,u.U)(this.dataService.sortBookings)),this.participantEmails$=this.dataService.getFilteredBookings().pipe((0,pt.M)(this.dataService.getParticipants()),(0,u.U)(([t,e])=>{const i=Array.from(new Set(t.reduce((t,e)=>[...t,...e.participants],[])));return e.filter(t=>i.includes(t.id)).map(t=>t.email)}))}handleSave(t){const e=this.sharingService.generatePriceReport(t.map(t=>t.id));this.item=e,this.link=this.sharingService.getItemLink(e)}handleShare(t,e){if(!this.item){const t=this.sharingService.generatePriceReport(e.map(t=>t.id));this.link=this.sharingService.getItemLink(t),this.item=t}this.sharingService.generateEmail(this.item.id,t),this.snackbar.open("Email sent!","",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.ProjectsService),l.Y36(d.ProjectDataService),l.Y36(b),l.Y36(o.ux))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-share-price-report"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],[1,"mb-2","mt-1","flex","align-center","wrap","mobile-ml-1","mobile-mr-1"],["routerLink","../../../../","cta","tertiary"],[1,"ml-1","mr-1"],["routerLink","../../../","cta","tertiary"],["routerLink","../../","cta","tertiary"],[1,"h5"],[1,"mobile-ml-1","mobile-mr-1"],[1,"block","mb-3",3,"link","emails","makeLink","shareLink"],[3,"bookings"]],template:function(t,e){1&t&&(l.YNc(0,bt,25,9,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.bookings$))},directives:[r.O5,A.W,n.yS,O,ft],pipes:[r.Ov],styles:[""]}),t})();function vt(t,e){if(1&t&&(l.TgZ(0,"header",4),l.TgZ(1,"h1",5),l._uU(2,"Price report"),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(4),l.hij("Created at: ",l.lcZ(5,1,t.sharedItem.createdAt),"")}}function xt(t,e){if(1&t&&(l.TgZ(0,"main",1),l._UZ(1,"app-public-header"),l.YNc(2,vt,6,3,"header",2),l._UZ(3,"app-price-report-visualization",3),l.qZA()),2&t){const t=e.ngIf,i=l.oxw();l.xp6(2),l.Q6J("ngIf",i.sharedItem),l.xp6(1),l.Q6J("bookings",t)}}let Tt=(()=>{class t{constructor(t,e,i){this.dataService=t,this.sharingService=e,this.appRouter=i,this.bookings$=(0,p.of)([]),this.bookings$=this.dataService.getBookings().pipe((0,u.U)(t=>{const e=this.appRouter.getShareId(),i=this.sharingService.getSharedItem(e);return this.sharedItem=i,t.filter(t=>i.bookingIds.includes(t.id))}))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.ProjectDataService),l.Y36(b),l.Y36(o.So))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-price-report"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],["class","mb-3 mt-3 mobile-ml-1 mobile-mr-1",4,"ngIf"],[1,"mobile-ml-1","mobile-mr-1","block",3,"bookings"],[1,"mb-3","mt-3","mobile-ml-1","mobile-mr-1"],[1,"h3"]],template:function(t,e){1&t&&(l.YNc(0,xt,4,2,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.bookings$))},directives:[r.O5,z.E,ft],pipes:[r.Ov,r.uU],styles:[""]}),t})();function yt(t,e){if(1&t&&(l.TgZ(0,"header",4),l.TgZ(1,"h1",5),l._uU(2,"Booking summary"),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(4),l.hij("Created at: ",l.lcZ(5,1,t.sharedItem.createdAt),"")}}const qt=function(){return[]};function _t(t,e){if(1&t&&(l.TgZ(0,"main",1),l._UZ(1,"app-public-header"),l.YNc(2,yt,6,3,"header",2),l._UZ(3,"app-booking-visualization",3),l.ALo(4,"async"),l.qZA()),2&t){const t=e.ngIf,i=l.oxw();l.xp6(2),l.Q6J("ngIf",i.sharedItem),l.xp6(1),l.Q6J("booking",t)("participants",l.lcZ(4,3,i.participants$)||l.DdM(5,qt))}}const St=[{path:"",component:ct,canActivate:[s.WithAuthGuard]},{path:"itinerary/send/:participantId",component:H,canActivate:[s.WithAuthGuard]},{path:"itinerary/view/:shareId",component:tt},{path:"booking/send/:bookingId",component:mt,canActivate:[s.WithAuthGuard]},{path:"booking/view/:shareId",component:(()=>{class t{constructor(t,e,i){this.appRouter=t,this.sharingService=e,this.projectDataService=i,this.participants$=(0,p.of)([]);const n=this.appRouter.getShareId();this.sharedItem=this.sharingService.getSharedItem(n),this.booking$=this.projectDataService.getBookingById(this.sharedItem.bookingId),this.participants$=this.projectDataService.getParticipants()}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(o.So),l.Y36(b),l.Y36(d.ProjectDataService))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-booking"]],decls:2,vars:3,consts:[["class","centered-content padded-container",4,"ngIf"],[1,"centered-content","padded-container"],["class","mb-3 mt-3 mobile-ml-1 mobile-mr-1",4,"ngIf"],[1,"block","card",3,"booking","participants"],[1,"mb-3","mt-3","mobile-ml-1","mobile-mr-1"],[1,"h3","mb-1"]],template:function(t,e){1&t&&(l.YNc(0,_t,5,6,"main",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,e.booking$))},directives:[r.O5,z.E,F],pipes:[r.Ov,r.uU],styles:[""]}),t})()},{path:"pricing/send",component:At,canActivate:[s.WithAuthGuard]},{path:"pricing/view/:shareId",component:Tt},{path:"**",redirectTo:""}];let It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[b,r.uU],imports:[[o.m8,n.Bz.forChild(St),c.p,a.u5],n.Bz]}),t})()}}]);